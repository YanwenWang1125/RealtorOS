============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-7.4.3, pluggy-1.6.0 -- C:\Python313\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Leo\AI projects\RealtorOS\backend
plugins: anyio-4.11.0, asyncio-0.23.1, cov-7.0.0
asyncio: mode=Mode.STRICT
collecting ... collected 288 items

tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_with_real_database ERROR [  0%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_scheduler_start_stop_lifecycle PASSED [  0%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_scheduler_job_registration PASSED [  1%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_handles_database_errors ERROR [  1%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_handles_service_errors ERROR [  1%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_scheduler_status_endpoint_format PASSED [  2%]
tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_multiple_job_executions ERROR [  2%]
tests/integration/api/test_agents_api.py::test_register_endpoint ERROR   [  2%]
tests/integration/api/test_agents_api.py::test_register_duplicate_email ERROR [  3%]
tests/integration/api/test_agents_api.py::test_login_endpoint ERROR      [  3%]
tests/integration/api/test_agents_api.py::test_login_wrong_password ERROR [  3%]
tests/integration/api/test_agents_api.py::test_get_profile_endpoint ERROR [  4%]
tests/integration/api/test_agents_api.py::test_get_profile_unauthorized ERROR [  4%]
tests/integration/api/test_agents_api.py::test_get_profile_invalid_token ERROR [  4%]
tests/integration/api/test_agents_api.py::test_update_profile_endpoint ERROR [  5%]
tests/integration/api/test_agents_api.py::test_google_login_endpoint ERROR [  5%]
tests/integration/api/test_agents_api.py::test_google_login_invalid_token ERROR [  5%]
tests/integration/api/test_agents_api.py::test_protected_endpoint_requires_auth ERROR [  6%]
tests/integration/api/test_agents_api.py::test_protected_endpoint_with_token ERROR [  6%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_success ERROR [  6%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_with_notes ERROR [  7%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_with_custom_fields ERROR [  7%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_missing_required_fields ERROR [  7%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_email ERROR [  8%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_stage ERROR [  8%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_property_type ERROR [  9%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_all_stages ERROR [  9%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_triggers_task_creation ERROR [  9%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_creates_followup_tasks ERROR [ 10%]
tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_task_creation_all_stages ERROR [ 10%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_empty ERROR [ 10%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_basic ERROR [ 11%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_pagination ERROR [ 11%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_filter_by_stage ERROR [ 11%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_pagination_defaults ERROR [ 12%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_invalid_page ERROR [ 12%]
tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_invalid_limit ERROR [ 12%]
tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_success ERROR [ 13%]
tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_not_found ERROR [ 13%]
tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_invalid_id ERROR [ 13%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_partial ERROR [ 14%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_stage ERROR [ 14%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_multiple_fields ERROR [ 14%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_custom_fields ERROR [ 15%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_not_found ERROR [ 15%]
tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_invalid_stage ERROR [ 15%]
tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_success ERROR [ 16%]
tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_not_found ERROR [ 16%]
tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_then_get_returns_404 ERROR [ 17%]
tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_empty ERROR [ 17%]
tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_with_tasks ERROR [ 17%]
tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_not_found ERROR [ 18%]
tests/integration/api/test_clients_api.py::TestClientAPIIntegration::test_client_full_lifecycle ERROR [ 18%]
tests/integration/api/test_clients_api.py::TestClientAPIIntegration::test_list_clients_excludes_deleted ERROR [ 18%]
tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint ERROR [ 19%]
tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_when_stopped ERROR [ 19%]
tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_job_details ERROR [ 19%]
tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_response_format ERROR [ 20%]
tests/integration/api/test_send.py::test_send_email PASSED               [ 20%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c01_create_client_minimal ERROR [ 20%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c02_create_client_with_notes ERROR [ 21%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c03_create_client_all_stages ERROR [ 21%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c04_create_client_all_property_types ERROR [ 21%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c05_create_client_with_custom_fields ERROR [ 22%]
tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c06_create_multiple_clients_bulk ERROR [ 22%]
tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c07_get_client_by_id ERROR [ 22%]
tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c08_get_nonexistent_client ERROR [ 23%]
tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c09_list_all_clients ERROR [ 23%]
tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c10_list_clients_pagination ERROR [ 23%]
tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c11_list_clients_filter_by_stage ERROR [ 24%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c12_update_client_name ERROR [ 24%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c13_update_client_email ERROR [ 25%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c14_update_client_stage ERROR [ 25%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c15_update_client_multiple_fields ERROR [ 25%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c16_update_client_all_fields ERROR [ 26%]
tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c17_update_nonexistent_client ERROR [ 26%]
tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c18_delete_client ERROR [ 26%]
tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c19_delete_multiple_clients ERROR [ 27%]
tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c20_delete_nonexistent_client ERROR [ 27%]
tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c21_client_lifecycle ERROR [ 27%]
tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c22_client_with_custom_fields_update ERROR [ 28%]
tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c23_list_clients_excludes_deleted ERROR [ 28%]
tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c24_client_filter_by_stage_multiple ERROR [ 28%]
tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c25_client_pagination_large_dataset ERROR [ 29%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t01_create_task_basic ERROR [ 29%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t02_create_task_with_notes ERROR [ 29%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t03_create_task_all_followup_types ERROR [ 30%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t04_create_task_all_priorities ERROR [ 30%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t05_create_followup_tasks ERROR [ 30%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t06_create_multiple_tasks_same_client ERROR [ 31%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t07_create_tasks_different_clients ERROR [ 31%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t08_get_task_by_id ERROR [ 31%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t09_get_nonexistent_task ERROR [ 32%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t10_list_all_tasks ERROR [ 32%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t11_list_tasks_filter_by_status ERROR [ 32%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t12_list_tasks_filter_by_client ERROR [ 33%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t13_list_tasks_pagination ERROR [ 33%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t14_get_due_tasks ERROR [ 34%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t15_update_task_status ERROR [ 34%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t16_update_task_all_statuses ERROR [ 34%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t17_update_task_priority ERROR [ 35%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t18_update_task_notes ERROR [ 35%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t19_update_task_scheduled_for ERROR [ 35%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t20_reschedule_task ERROR [ 36%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t21_update_task_multiple_fields ERROR [ 36%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t22_update_nonexistent_task ERROR [ 36%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t23_task_lifecycle ERROR [ 37%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t24_create_followup_tasks_for_multiple_clients ERROR [ 37%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t25_tasks_with_different_schedules ERROR [ 37%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t26_task_status_progression ERROR [ 38%]
tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t27_list_tasks_multiple_filters ERROR [ 38%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e01_log_email_basic ERROR [ 38%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e02_log_email_with_details ERROR [ 39%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e03_log_multiple_emails_same_task ERROR [ 39%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e04_log_emails_different_clients ERROR [ 39%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e05_get_email_by_id ERROR [ 40%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e06_get_nonexistent_email ERROR [ 40%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e07_list_all_emails ERROR [ 40%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e08_list_emails_filter_by_client ERROR [ 41%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e09_list_emails_filter_by_status ERROR [ 41%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e10_list_emails_pagination ERROR [ 42%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e11_update_email_status ERROR [ 42%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e12_update_email_status_with_message_id ERROR [ 42%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e13_update_email_status_with_error ERROR [ 43%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e14_update_email_all_statuses ERROR [ 43%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e15_update_nonexistent_email ERROR [ 43%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e16_email_lifecycle ERROR [ 44%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e17_multiple_emails_same_client ERROR [ 44%]
tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e18_emails_with_different_statuses ERROR [ 44%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r01_client_with_tasks ERROR [ 45%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r02_task_with_email_log ERROR [ 45%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r03_client_tasks_emails_full_chain ERROR [ 45%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r04_delete_client_keeps_tasks ERROR [ 46%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r05_get_client_tasks_via_crm ERROR [ 46%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r06_update_task_complete_with_email ERROR [ 46%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r07_list_emails_for_client ERROR [ 47%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r08_multiple_tasks_multiple_emails ERROR [ 47%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r09_task_email_status_coordination ERROR [ 47%]
tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r10_client_stage_change_affects_tasks ERROR [ 48%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a01_bulk_create_all_tables ERROR [ 48%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a02_concurrent_updates ERROR [ 48%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a03_data_integrity_foreign_keys ERROR [ 49%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a04_pagination_consistency ERROR [ 49%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a05_filter_combinations ERROR [ 50%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a06_timestamp_validation ERROR [ 50%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a07_data_persistence ERROR [ 50%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a08_cascade_operations ERROR [ 51%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a09_search_and_filter_complex ERROR [ 51%]
tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a10_volume_stress_test ERROR [ 51%]
tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e20_empty_results ERROR [ 52%]
tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e21_max_pagination ERROR [ 52%]
tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e22_update_no_changes ERROR [ 52%]
tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e23_date_edge_cases ERROR [ 53%]
tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e24_string_field_lengths ERROR [ 53%]
tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f01_comprehensive_workflow ERROR [ 53%]
tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f02_data_isolation ERROR [ 54%]
tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f03_transaction_safety ERROR [ 54%]
tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f04_performance_large_queries ERROR [ 54%]
tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f100_complete_system_integration ERROR [ 55%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_basic ERROR [ 55%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_with_custom_fields ERROR [ 55%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_all_stages ERROR [ 56%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_all_property_types ERROR [ 56%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_multiple_clients_bulk ERROR [ 56%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_client_by_id ERROR [ 57%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_nonexistent_client ERROR [ 57%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_all_clients ERROR [ 57%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_clients_with_pagination ERROR [ 58%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_clients_filter_by_stage ERROR [ 58%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_client_tasks ERROR [ 59%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_name ERROR [ 59%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_email ERROR [ 59%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_stage_progression ERROR [ 60%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_multiple_fields ERROR [ 60%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_all_fields ERROR [ 60%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_nonexistent_client ERROR [ 61%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_with_empty_data ERROR [ 61%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_client_soft_delete ERROR [ 61%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_multiple_clients ERROR [ 62%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_nonexistent_client ERROR [ 62%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_full_client_lifecycle ERROR [ 62%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_client_with_multiple_task_updates ERROR [ 63%]
tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_pagination_with_deleted_clients ERROR [ 63%]
tests/unit/services/test_agent_service.py::TestAgentService::test_register_email_success PASSED [ 63%]
tests/unit/services/test_agent_service.py::TestAgentService::test_register_email_duplicate PASSED [ 64%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_email_success PASSED [ 64%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_email_wrong_password PASSED [ 64%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_email_nonexistent PASSED [ 65%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_google_new_user PASSED [ 65%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_google_existing_user PASSED [ 65%]
tests/unit/services/test_agent_service.py::TestAgentService::test_login_google_invalid_token PASSED [ 66%]
tests/unit/services/test_agent_service.py::TestAgentService::test_get_profile PASSED [ 66%]
tests/unit/services/test_agent_service.py::TestAgentService::test_get_profile_nonexistent PASSED [ 67%]
tests/unit/services/test_agent_service.py::TestAgentService::test_update_profile PASSED [ 67%]
tests/unit/services/test_agent_service.py::TestAgentService::test_update_profile_partial PASSED [ 67%]
tests/unit/services/test_agent_service.py::TestAgentService::test_update_profile_nonexistent PASSED [ 68%]
tests/unit/services/test_ai_agent.py::test_generate_email PASSED         [ 68%]
tests/unit/services/test_ai_agent.py::test_generate_email_with_instructions PASSED [ 68%]
tests/unit/services/test_ai_agent.py::test_generate_email_api_failure PASSED [ 69%]
tests/unit/services/test_ai_agent.py::test_generate_email_rate_limit_error PASSED [ 69%]
tests/unit/services/test_ai_agent.py::test_generate_email_preview FAILED [ 69%]
tests/unit/services/test_ai_agent.py::test_generate_email_preview_api_failure PASSED [ 70%]
tests/unit/services/test_ai_agent.py::test_build_prompt PASSED           [ 70%]
tests/unit/services/test_ai_agent.py::test_build_prompt_with_minimal_data PASSED [ 70%]
tests/unit/services/test_ai_agent.py::test_build_prompt_includes_instructions PASSED [ 71%]
tests/unit/services/test_ai_agent.py::test_build_prompt_with_custom_fields PASSED [ 71%]
tests/unit/services/test_ai_agent.py::test_build_prompt_with_task_notes PASSED [ 71%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_json PASSED [ 72%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_json_with_markdown PASSED [ 72%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_plain_text PASSED [ 72%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_plain_text_no_subject_prefix PASSED [ 73%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_error PASSED [ 73%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_missing_content PASSED [ 73%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_invalid_json PASSED [ 74%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_preview_truncation PASSED [ 74%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_preview_short PASSED [ 75%]
tests/unit/services/test_ai_agent.py::test_parse_openai_response_missing_fields PASSED [ 75%]
tests/unit/services/test_ai_agent.py::test_openai_integration PASSED     [ 75%]
tests/unit/services/test_ai_agent.py::test_generate_email_with_none_client PASSED [ 76%]
tests/unit/services/test_ai_agent.py::test_generate_email_with_none_task PASSED [ 76%]
tests/unit/services/test_ai_agent.py::test_build_prompt_all_followup_types PASSED [ 76%]
tests/unit/services/test_ai_manual.py::test_basic_email_generation PASSED [ 77%]
tests/unit/services/test_ai_manual.py::test_day_3_followup PASSED        [ 77%]
tests/unit/services/test_ai_manual.py::test_week_1_followup PASSED       [ 77%]
tests/unit/services/test_ai_manual.py::test_with_custom_instructions PASSED [ 78%]
tests/unit/services/test_ai_manual.py::test_email_preview PASSED         [ 78%]
tests/unit/services/test_crm_service.py::TestCRMService::test_create_and_get_client PASSED [ 78%]
tests/unit/services/test_crm_service.py::TestCRMService::test_list_update_delete_client PASSED [ 79%]
tests/unit/services/test_crm_service.py::TestCRMService::test_get_client_tasks PASSED [ 79%]
tests/unit/services/test_crm_service.py::TestCRMService::test_create_client_with_custom_fields PASSED [ 79%]
tests/unit/services/test_crm_service.py::TestCRMService::test_get_nonexistent_client PASSED [ 80%]
tests/unit/services/test_crm_service.py::TestCRMService::test_update_client_partial_fields PASSED [ 80%]
tests/unit/services/test_crm_service.py::TestCRMService::test_update_nonexistent_client PASSED [ 80%]
tests/unit/services/test_crm_service.py::TestCRMService::test_list_clients_pagination PASSED [ 81%]
tests/unit/services/test_crm_service.py::TestCRMService::test_list_clients_filter_by_stage PASSED [ 81%]
tests/unit/services/test_crm_service.py::TestCRMService::test_delete_client_soft_delete PASSED [ 81%]
tests/unit/services/test_crm_service.py::TestCRMService::test_delete_nonexistent_client PASSED [ 82%]
tests/unit/services/test_crm_service.py::TestCRMService::test_get_client_tasks_multiple_statuses PASSED [ 82%]
tests/unit/services/test_crm_service.py::TestCRMService::test_update_client_all_fields PASSED [ 82%]
tests/unit/services/test_email_service.py::TestEmailService::test_log_email PASSED [ 83%]
tests/unit/services/test_email_service.py::TestEmailService::test_get_email PASSED [ 83%]
tests/unit/services/test_email_service.py::TestEmailService::test_list_emails PASSED [ 84%]
tests/unit/services/test_email_service.py::TestEmailService::test_update_email_status PASSED [ 84%]
tests/unit/services/test_email_service.py::TestEmailService::test_ses_integration PASSED [ 84%]
tests/unit/services/test_email_service.py::TestEmailService::test_send_email PASSED [ 85%]
tests/unit/services/test_email_service.py::TestEmailService::test_process_webhook_event PASSED [ 85%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_scheduler_is_configured PASSED [ 85%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_start_scheduler_registers_jobs FAILED [ 86%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_start_scheduler_starts_scheduler FAILED [ 86%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_stop_scheduler_gracefully_shuts_down FAILED [ 86%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_stop_scheduler_when_not_running PASSED [ 87%]
tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_get_scheduler_status FAILED [ 87%]
tests/unit/services/test_scheduler.py::TestProcessDueTasksJob::test_process_due_tasks_job_success PASSED [ 87%]
tests/unit/services/test_scheduler.py::TestProcessDueTasksJob::test_process_due_tasks_job_no_due_tasks PASSED [ 88%]
tests/unit/services/test_scheduler.py::TestProcessDueTasksJob::test_process_due_tasks_job_handles_exception PASSED [ 88%]
tests/unit/services/test_scheduler.py::TestProcessDueTasksJob::test_process_due_tasks_job_initializes_db_if_needed PASSED [ 88%]
tests/unit/services/test_scheduler.py::TestProcessDueTasksJob::test_process_due_tasks_job_logs_success PASSED [ 89%]
tests/unit/services/test_scheduler.py::TestSchedulerJobConfiguration::test_job_has_correct_trigger FAILED [ 89%]
tests/unit/services/test_scheduler.py::TestSchedulerJobConfiguration::test_job_defaults_are_set PASSED [ 89%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_create_list_get_update_task PASSED [ 90%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_get_due_and_reschedule PASSED [ 90%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_no_due_tasks PASSED [ 90%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_single_success PASSED [ 91%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_multiple_tasks PASSED [ 91%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_missing_client PASSED [ 92%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_client_no_email PASSED [ 92%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_ai_generation_fails PASSED [ 92%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_email_send_fails FAILED [ 93%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_partial_success PASSED [ 93%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_verifies_email_log PASSED [ 93%]
tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_only_processes_due_tasks PASSED [ 94%]
tests/unit/utils/test_auth.py::TestPasswordHashing::test_hash_password PASSED [ 94%]
tests/unit/utils/test_auth.py::TestPasswordHashing::test_verify_password_correct PASSED [ 94%]
tests/unit/utils/test_auth.py::TestPasswordHashing::test_verify_password_incorrect PASSED [ 95%]
tests/unit/utils/test_auth.py::TestPasswordHashing::test_hash_password_unicode PASSED [ 95%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_create_access_token PASSED [ 95%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_create_access_token_with_expires_delta PASSED [ 96%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_decode_access_token_valid PASSED [ 96%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_decode_access_token_invalid PASSED [ 96%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_decode_access_token_expired PASSED [ 97%]
tests/unit/utils/test_auth.py::TestJWTTokens::test_token_contains_agent_id PASSED [ 97%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_no_client_id PASSED [ 97%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_valid PASSED [ 98%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_invalid_issuer PASSED [ 98%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_missing_name PASSED [ 98%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_value_error PASSED [ 99%]
tests/unit/utils/test_google_oauth.py::TestGoogleOAuth::test_verify_google_token_https_issuer PASSED [ 99%]
tests/utils/test_sendgrid.py::test_sendgrid_email PASSED                 [100%]

=================================== ERRORS ====================================
_ ERROR at setup of TestSchedulerIntegration.test_process_due_tasks_job_with_real_database _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestSchedulerIntegration.test_process_due_tasks_job_handles_database_errors _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestSchedulerIntegration.test_process_due_tasks_job_handles_service_errors _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
___ ERROR at setup of TestSchedulerIntegration.test_multiple_job_executions ___
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
----------------------------- Captured log setup ------------------------------
ERROR    apscheduler.executors.default:base.py:103 Error running job process_due_tasks
Traceback (most recent call last):
  File "C:\Users\Leo\AppData\Roaming\Python\Python313\site-packages\apscheduler\executors\asyncio.py", line 35, in callback
    events = f.result()
  File "C:\Users\Leo\AppData\Roaming\Python\Python313\site-packages\apscheduler\executors\base.py", line 161, in run_coroutine_job
    async def run_coroutine_job(job, jobstore_alias, run_times, logger_name):
asyncio.exceptions.CancelledError
__________________ ERROR at setup of test_register_endpoint ___________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______________ ERROR at setup of test_register_duplicate_email _______________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____________________ ERROR at setup of test_login_endpoint ____________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_________________ ERROR at setup of test_login_wrong_password _________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_________________ ERROR at setup of test_get_profile_endpoint _________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______________ ERROR at setup of test_get_profile_unauthorized _______________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______________ ERROR at setup of test_get_profile_invalid_token _______________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______________ ERROR at setup of test_update_profile_endpoint ________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
________________ ERROR at setup of test_google_login_endpoint _________________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______________ ERROR at setup of test_google_login_invalid_token ______________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
___________ ERROR at setup of test_protected_endpoint_requires_auth ___________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____________ ERROR at setup of test_protected_endpoint_with_token _____________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
________ ERROR at setup of TestCreateClient.test_create_client_success ________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestCreateClient.test_create_client_with_notes _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
__ ERROR at setup of TestCreateClient.test_create_client_with_custom_fields ___
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestCreateClient.test_create_client_missing_required_fields _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_____ ERROR at setup of TestCreateClient.test_create_client_invalid_email _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_____ ERROR at setup of TestCreateClient.test_create_client_invalid_stage _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestCreateClient.test_create_client_invalid_property_type _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestCreateClient.test_create_client_all_stages _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestCreateClient.test_create_client_triggers_task_creation _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestCreateClient.test_create_client_creates_followup_tasks _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestCreateClient.test_create_client_task_creation_all_stages _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
__________ ERROR at setup of TestListClients.test_list_clients_empty __________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
__________ ERROR at setup of TestListClients.test_list_clients_basic __________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______ ERROR at setup of TestListClients.test_list_clients_pagination ________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_____ ERROR at setup of TestListClients.test_list_clients_filter_by_stage _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
___ ERROR at setup of TestListClients.test_list_clients_pagination_defaults ___
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestListClients.test_list_clients_invalid_page _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestListClients.test_list_clients_invalid_limit ______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
___________ ERROR at setup of TestGetClient.test_get_client_success ___________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
__________ ERROR at setup of TestGetClient.test_get_client_not_found __________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_________ ERROR at setup of TestGetClient.test_get_client_invalid_id __________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
________ ERROR at setup of TestUpdateClient.test_update_client_partial ________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_________ ERROR at setup of TestUpdateClient.test_update_client_stage _________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____ ERROR at setup of TestUpdateClient.test_update_client_multiple_fields ____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_____ ERROR at setup of TestUpdateClient.test_update_client_custom_fields _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______ ERROR at setup of TestUpdateClient.test_update_client_not_found _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_____ ERROR at setup of TestUpdateClient.test_update_client_invalid_stage _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
________ ERROR at setup of TestDeleteClient.test_delete_client_success ________
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_______ ERROR at setup of TestDeleteClient.test_delete_client_not_found _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestDeleteClient.test_delete_client_then_get_returns_404 __
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestGetClientTasks.test_get_client_tasks_empty _______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____ ERROR at setup of TestGetClientTasks.test_get_client_tasks_with_tasks ____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____ ERROR at setup of TestGetClientTasks.test_get_client_tasks_not_found _____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
____ ERROR at setup of TestClientAPIIntegration.test_client_full_lifecycle ____
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestClientAPIIntegration.test_list_clients_excludes_deleted _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestSchedulerAPI.test_scheduler_health_endpoint ______
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestSchedulerAPI.test_scheduler_health_endpoint_when_stopped _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestSchedulerAPI.test_scheduler_health_endpoint_job_details _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
_ ERROR at setup of TestSchedulerAPI.test_scheduler_health_endpoint_response_format _
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:338: in _asyncgen_fixture_wrapper
    result = event_loop.run_until_complete(setup())
C:\Python313\Lib\asyncio\base_events.py:725: in run_until_complete
    return future.result()
..\..\..\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:320: in setup
    res = await gen_obj.__anext__()
tests\integration\conftest.py:43: in db_session
    pytest.fail(
E   Failed: \u274c SAFETY CHECK FAILED: Integration tests detected PRODUCTION database!
E   Integration tests DELETE ALL DATA. Use a TEST database instead.
E   Set TEST_DATABASE_URL in your .env file to use a separate test database.
______ ERROR at setup of TestClientCreate.test_c01_create_client_minimal ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestClientCreate.test_c02_create_client_with_notes _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestClientCreate.test_c03_create_client_all_stages _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientCreate.test_c04_create_client_all_property_types _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientCreate.test_c05_create_client_with_custom_fields _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestClientCreate.test_c06_create_multiple_clients_bulk ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestClientRead.test_c07_get_client_by_id __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestClientRead.test_c08_get_nonexistent_client _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestClientRead.test_c09_list_all_clients __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestClientRead.test_c10_list_clients_pagination ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestClientRead.test_c11_list_clients_filter_by_stage ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestClientUpdate.test_c12_update_client_name ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestClientUpdate.test_c13_update_client_email _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestClientUpdate.test_c14_update_client_stage _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestClientUpdate.test_c15_update_client_multiple_fields __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestClientUpdate.test_c16_update_client_all_fields _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestClientUpdate.test_c17_update_nonexistent_client ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestClientDelete.test_c18_delete_client __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestClientDelete.test_c19_delete_multiple_clients _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestClientDelete.test_c20_delete_nonexistent_client ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestClientComplex.test_c21_client_lifecycle ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientComplex.test_c22_client_with_custom_fields_update _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientComplex.test_c23_list_clients_excludes_deleted __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientComplex.test_c24_client_filter_by_stage_multiple _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestClientComplex.test_c25_client_pagination_large_dataset _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestTaskCreate.test_t01_create_task_basic _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestTaskCreate.test_t02_create_task_with_notes _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestTaskCreate.test_t03_create_task_all_followup_types ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestTaskCreate.test_t04_create_task_all_priorities _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestTaskCreate.test_t05_create_followup_tasks _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestTaskCreate.test_t06_create_multiple_tasks_same_client _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestTaskCreate.test_t07_create_tasks_different_clients ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___________ ERROR at setup of TestTaskRead.test_t08_get_task_by_id ____________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestTaskRead.test_t09_get_nonexistent_task _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___________ ERROR at setup of TestTaskRead.test_t10_list_all_tasks ____________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestTaskRead.test_t11_list_tasks_filter_by_status _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestTaskRead.test_t12_list_tasks_filter_by_client _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestTaskRead.test_t13_list_tasks_pagination ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____________ ERROR at setup of TestTaskRead.test_t14_get_due_tasks ____________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestTaskUpdate.test_t15_update_task_status _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestTaskUpdate.test_t16_update_task_all_statuses ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestTaskUpdate.test_t17_update_task_priority ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestTaskUpdate.test_t18_update_task_notes _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestTaskUpdate.test_t19_update_task_scheduled_for _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestTaskUpdate.test_t20_reschedule_task __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestTaskUpdate.test_t21_update_task_multiple_fields ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestTaskUpdate.test_t22_update_nonexistent_task ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestTaskComplex.test_t23_task_lifecycle __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestTaskComplex.test_t24_create_followup_tasks_for_multiple_clients _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestTaskComplex.test_t25_tasks_with_different_schedules __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestTaskComplex.test_t26_task_status_progression ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestTaskComplex.test_t27_list_tasks_multiple_filters ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestEmailLogCreate.test_e01_log_email_basic ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestEmailLogCreate.test_e02_log_email_with_details _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogCreate.test_e03_log_multiple_emails_same_task _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogCreate.test_e04_log_emails_different_clients __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestEmailLogRead.test_e05_get_email_by_id _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestEmailLogRead.test_e06_get_nonexistent_email ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestEmailLogRead.test_e07_list_all_emails _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestEmailLogRead.test_e08_list_emails_filter_by_client ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestEmailLogRead.test_e09_list_emails_filter_by_status ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestEmailLogRead.test_e10_list_emails_pagination ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestEmailLogUpdate.test_e11_update_email_status ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogUpdate.test_e12_update_email_status_with_message_id _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogUpdate.test_e13_update_email_status_with_error _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestEmailLogUpdate.test_e14_update_email_all_statuses ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestEmailLogUpdate.test_e15_update_nonexistent_email ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestEmailLogComplex.test_e16_email_lifecycle ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogComplex.test_e17_multiple_emails_same_client __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestEmailLogComplex.test_e18_emails_with_different_statuses _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__ ERROR at setup of TestCrossTableRelationships.test_r01_client_with_tasks ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r02_task_with_email_log __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r03_client_tasks_emails_full_chain _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r04_delete_client_keeps_tasks _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r05_get_client_tasks_via_crm _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r06_update_task_complete_with_email _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r07_list_emails_for_client _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r08_multiple_tasks_multiple_emails _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r09_task_email_status_coordination _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCrossTableRelationships.test_r10_client_stage_change_affects_tasks _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestAdvancedScenarios.test_a01_bulk_create_all_tables ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestAdvancedScenarios.test_a02_concurrent_updates _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestAdvancedScenarios.test_a03_data_integrity_foreign_keys _
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestAdvancedScenarios.test_a04_pagination_consistency ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestAdvancedScenarios.test_a05_filter_combinations _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestAdvancedScenarios.test_a06_timestamp_validation ____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestAdvancedScenarios.test_a07_data_persistence ______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestAdvancedScenarios.test_a08_cascade_operations _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestAdvancedScenarios.test_a09_search_and_filter_complex __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestAdvancedScenarios.test_a10_volume_stress_test _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___________ ERROR at setup of TestEdgeCases.test_e20_empty_results ____________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___________ ERROR at setup of TestEdgeCases.test_e21_max_pagination ___________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestEdgeCases.test_e22_update_no_changes __________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestEdgeCases.test_e23_date_edge_cases ___________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestEdgeCases.test_e24_string_field_lengths ________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestFinalScenarios.test_f01_comprehensive_workflow _____
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestFinalScenarios.test_f02_data_isolation _________
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestFinalScenarios.test_f03_transaction_safety _______
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___ ERROR at setup of TestFinalScenarios.test_f04_performance_large_queries ___
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestFinalScenarios.test_f100_complete_system_integration __
tests\integration\workflows\test_all_tables_crud.py:49: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestCRMCreate.test_create_client_basic ___________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestCRMCreate.test_create_client_with_custom_fields ____
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestCRMCreate.test_create_client_all_stages ________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestCRMCreate.test_create_client_all_property_types ____
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
______ ERROR at setup of TestCRMCreate.test_create_multiple_clients_bulk ______
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____________ ERROR at setup of TestCRMRead.test_get_client_by_id _____________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestCRMRead.test_get_nonexistent_client __________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____________ ERROR at setup of TestCRMRead.test_list_all_clients _____________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestCRMRead.test_list_clients_with_pagination _______
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestCRMRead.test_list_clients_filter_by_stage _______
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____________ ERROR at setup of TestCRMRead.test_get_client_tasks _____________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
___________ ERROR at setup of TestCRMUpdate.test_update_client_name ___________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
__________ ERROR at setup of TestCRMUpdate.test_update_client_email ___________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestCRMUpdate.test_update_client_stage_progression _____
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_____ ERROR at setup of TestCRMUpdate.test_update_client_multiple_fields ______
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestCRMUpdate.test_update_client_all_fields ________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestCRMUpdate.test_update_nonexistent_client ________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_________ ERROR at setup of TestCRMUpdate.test_update_with_empty_data _________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestCRMDelete.test_delete_client_soft_delete ________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
________ ERROR at setup of TestCRMDelete.test_delete_multiple_clients _________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_______ ERROR at setup of TestCRMDelete.test_delete_nonexistent_client ________
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
____ ERROR at setup of TestCRMComplexScenarios.test_full_client_lifecycle _____
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCRMComplexScenarios.test_client_with_multiple_task_updates _
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
_ ERROR at setup of TestCRMComplexScenarios.test_pagination_with_deleted_clients _
tests\integration\workflows\test_crm_service_crud.py:46: in db_session
    await postgresql.init_db()
app\db\postgresql.py:61: in init_db
    engine = create_async_engine(async_url, **engine_kwargs)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\ext\asyncio\engine.py:120: in create_async_engine
    sync_engine = _create_engine(url, **kw)
<string>:2: in create_engine
    ???
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\deprecations.py:281: in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\create.py:617: in create_engine
    dbapi = dbapi_meth(**dbapi_args)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:1094: in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
E   ModuleNotFoundError: No module named 'asyncpg'
================================== FAILURES ===================================
_________________________ test_generate_email_preview _________________________
tests\unit\services\test_ai_agent.py:271: in test_generate_email_preview
    assert call_args.kwargs["max_tokens"] <= 300
E   assert 800 <= 300
_______ TestSchedulerInitialization.test_start_scheduler_registers_jobs _______
tests\unit\services\test_scheduler.py:39: in test_start_scheduler_registers_jobs
    start_scheduler()
app\scheduler.py:105: in start_scheduler
    scheduler.start()
..\..\..\AppData\Roaming\Python\Python313\site-packages\apscheduler\schedulers\asyncio.py:36: in start
    self._eventloop = asyncio.get_running_loop()
E   RuntimeError: no running event loop
______ TestSchedulerInitialization.test_start_scheduler_starts_scheduler ______
tests\unit\services\test_scheduler.py:64: in test_start_scheduler_starts_scheduler
    start_scheduler()
app\scheduler.py:105: in start_scheduler
    scheduler.start()
..\..\..\AppData\Roaming\Python\Python313\site-packages\apscheduler\schedulers\asyncio.py:36: in start
    self._eventloop = asyncio.get_running_loop()
E   RuntimeError: no running event loop
------------------------------ Captured log call ------------------------------
ERROR    app.scheduler:scheduler.py:110 \u274c Failed to start APScheduler: no running event loop\nTraceback (most recent call last):\n  File "C:\\Users\\Leo\\AI projects\\RealtorOS\\backend\\app\\scheduler.py", line 105, in start_scheduler\n    scheduler.start()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\Leo\\AppData\\Roaming\\Python\\Python313\\site-packages\\apscheduler\\schedulers\\asyncio.py", line 36, in start\n    self._eventloop = asyncio.get_running_loop()\n                      ~~~~~~~~~~~~~~~~~~~~~~~~^^\nRuntimeError: no running event loop
____ TestSchedulerInitialization.test_stop_scheduler_gracefully_shuts_down ____
tests\unit\services\test_scheduler.py:82: in test_stop_scheduler_gracefully_shuts_down
    start_scheduler()
app\scheduler.py:105: in start_scheduler
    scheduler.start()
..\..\..\AppData\Roaming\Python\Python313\site-packages\apscheduler\schedulers\asyncio.py:36: in start
    self._eventloop = asyncio.get_running_loop()
E   RuntimeError: no running event loop
------------------------------ Captured log call ------------------------------
ERROR    app.scheduler:scheduler.py:110 \u274c Failed to start APScheduler: no running event loop\nTraceback (most recent call last):\n  File "C:\\Users\\Leo\\AI projects\\RealtorOS\\backend\\app\\scheduler.py", line 105, in start_scheduler\n    scheduler.start()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\Leo\\AppData\\Roaming\\Python\\Python313\\site-packages\\apscheduler\\schedulers\\asyncio.py", line 36, in start\n    self._eventloop = asyncio.get_running_loop()\n                      ~~~~~~~~~~~~~~~~~~~~~~~~^^\nRuntimeError: no running event loop
____________ TestSchedulerInitialization.test_get_scheduler_status ____________
tests\unit\services\test_scheduler.py:130: in test_get_scheduler_status
    start_scheduler()
app\scheduler.py:105: in start_scheduler
    scheduler.start()
..\..\..\AppData\Roaming\Python\Python313\site-packages\apscheduler\schedulers\asyncio.py:36: in start
    self._eventloop = asyncio.get_running_loop()
E   RuntimeError: no running event loop
------------------------------ Captured log call ------------------------------
ERROR    app.scheduler:scheduler.py:110 \u274c Failed to start APScheduler: no running event loop\nTraceback (most recent call last):\n  File "C:\\Users\\Leo\\AI projects\\RealtorOS\\backend\\app\\scheduler.py", line 105, in start_scheduler\n    scheduler.start()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\Leo\\AppData\\Roaming\\Python\\Python313\\site-packages\\apscheduler\\schedulers\\asyncio.py", line 36, in start\n    self._eventloop = asyncio.get_running_loop()\n                      ~~~~~~~~~~~~~~~~~~~~~~~~^^\nRuntimeError: no running event loop
_________ TestSchedulerJobConfiguration.test_job_has_correct_trigger __________
tests\unit\services\test_scheduler.py:281: in test_job_has_correct_trigger
    start_scheduler()
app\scheduler.py:105: in start_scheduler
    scheduler.start()
..\..\..\AppData\Roaming\Python\Python313\site-packages\apscheduler\schedulers\asyncio.py:36: in start
    self._eventloop = asyncio.get_running_loop()
E   RuntimeError: no running event loop
------------------------------ Captured log call ------------------------------
ERROR    app.scheduler:scheduler.py:110 \u274c Failed to start APScheduler: no running event loop\nTraceback (most recent call last):\n  File "C:\\Users\\Leo\\AI projects\\RealtorOS\\backend\\app\\scheduler.py", line 105, in start_scheduler\n    scheduler.start()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\Leo\\AppData\\Roaming\\Python\\Python313\\site-packages\\apscheduler\\schedulers\\asyncio.py", line 36, in start\n    self._eventloop = asyncio.get_running_loop()\n                      ~~~~~~~~~~~~~~~~~~~~~~~~^^\nRuntimeError: no running event loop
___ TestSchedulerService.test_process_and_send_due_emails_email_send_fails ____
tests\unit\services\test_scheduler_service.py:410: in test_process_and_send_due_emails_email_send_fails
    updated_task = await svc.get_task(task.id, agent_id=agent.id)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\attributes.py:569: in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\attributes.py:1096: in get
    value = self._fire_loader_callables(state, key, passive)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\attributes.py:1126: in _fire_loader_callables
    return state._load_expired(state, passive)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\state.py:803: in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\loading.py:1674: in load_scalar_attributes
    result = load_on_ident(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\loading.py:510: in load_on_ident
    return load_on_pk_identity(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\loading.py:695: in load_on_pk_identity
    session.execute(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py:2351: in execute
    return self._execute_internal(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py:2249: in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\context.py:306: in orm_execute_statement
    result = conn.execute(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:2358: in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:340: in _handle_exception
    raise error
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:157: in execute
    _cursor: AsyncIODBAPICursor = self.await_(self._connection.cursor())  # type: ignore[arg-type] # noqa: E501
..\..\..\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\_concurrency_py3k.py:123: in await_only
    raise exc.MissingGreenlet(
E   sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
------------------------------ Captured log call ------------------------------
ERROR    app.services.scheduler_service:scheduler_service.py:236 Error processing task_id=1, client_id=1: SES error
Traceback (most recent call last):
  File "C:\Users\Leo\AI projects\RealtorOS\backend\app\services\scheduler_service.py", line 213, in process_and_send_due_emails
    email_response = await email_service.send_email(email_request, agent)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 2321, in _execute_mock_call
    raise effect
Exception: SES error
============================== warnings summary ===============================
app\config.py:30
  C:\Users\Leo\AI projects\RealtorOS\backend\app\config.py:30: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_with_real_database
  C:\Users\Leo\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:738: DeprecationWarning: The event_loop fixture provided by pytest-asyncio has been redefined in
  C:\Users\Leo\AI projects\RealtorOS\backend\tests\conftest.py:29
  Replacing the event_loop fixture with a custom implementation is deprecated
  and will lead to errors in the future.
  If you want to request an asyncio event loop with a scope other than function
  scope, use the "scope" argument to the asyncio mark when marking the tests.
  If you want to return different types of event loops, use the event_loop_policy
  fixture.
  
    warnings.warn(

tests/unit/services/test_agent_service.py::TestAgentService::test_register_email_success
  C:\Users\Leo\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:738: DeprecationWarning: The event_loop fixture provided by pytest-asyncio has been redefined in
  C:\Users\Leo\AI projects\RealtorOS\backend\tests\unit\conftest.py:27
  Replacing the event_loop fixture with a custom implementation is deprecated
  and will lead to errors in the future.
  If you want to request an asyncio event loop with a scope other than function
  scope, use the "scope" argument to the asyncio mark when marking the tests.
  If you want to return different types of event loops, use the event_loop_policy
  fixture.
  
    warnings.warn(

tests/utils/test_sendgrid.py::test_sendgrid_email
  C:\Users\Leo\AppData\Roaming\Python\Python313\site-packages\pytest_asyncio\plugin.py:796: DeprecationWarning: pytest-asyncio detected an unclosed event loop when tearing down the event_loop
  fixture: <ProactorEventLoop running=False closed=False debug=False>
  pytest-asyncio will close the event loop for you, but future versions of the
  library will no longer do so. In order to ensure compatibility with future
  versions, please make sure that:
      1. Any custom "event_loop" fixture properly closes the loop after yielding it
      2. The scopes of your custom "event_loop" fixtures do not overlap
      3. Your code does not modify the event loop in async fixtures or tests
  
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.13.7-final-0 _______________

Coverage XML written to file coverage.xml
=========================== short test summary info ===========================
FAILED tests/unit/services/test_ai_agent.py::test_generate_email_preview - as...
FAILED tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_start_scheduler_registers_jobs
FAILED tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_start_scheduler_starts_scheduler
FAILED tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_stop_scheduler_gracefully_shuts_down
FAILED tests/unit/services/test_scheduler.py::TestSchedulerInitialization::test_get_scheduler_status
FAILED tests/unit/services/test_scheduler.py::TestSchedulerJobConfiguration::test_job_has_correct_trigger
FAILED tests/unit/services/test_scheduler_service.py::TestSchedulerService::test_process_and_send_due_emails_email_send_fails
ERROR tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_with_real_database
ERROR tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_handles_database_errors
ERROR tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_process_due_tasks_job_handles_service_errors
ERROR tests/integration/test_scheduler_integration.py::TestSchedulerIntegration::test_multiple_job_executions
ERROR tests/integration/api/test_agents_api.py::test_register_endpoint - Fail...
ERROR tests/integration/api/test_agents_api.py::test_register_duplicate_email
ERROR tests/integration/api/test_agents_api.py::test_login_endpoint - Failed:...
ERROR tests/integration/api/test_agents_api.py::test_login_wrong_password - F...
ERROR tests/integration/api/test_agents_api.py::test_get_profile_endpoint - F...
ERROR tests/integration/api/test_agents_api.py::test_get_profile_unauthorized
ERROR tests/integration/api/test_agents_api.py::test_get_profile_invalid_token
ERROR tests/integration/api/test_agents_api.py::test_update_profile_endpoint
ERROR tests/integration/api/test_agents_api.py::test_google_login_endpoint - ...
ERROR tests/integration/api/test_agents_api.py::test_google_login_invalid_token
ERROR tests/integration/api/test_agents_api.py::test_protected_endpoint_requires_auth
ERROR tests/integration/api/test_agents_api.py::test_protected_endpoint_with_token
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_success
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_with_notes
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_with_custom_fields
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_missing_required_fields
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_email
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_stage
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_invalid_property_type
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_all_stages
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_triggers_task_creation
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_creates_followup_tasks
ERROR tests/integration/api/test_clients_api.py::TestCreateClient::test_create_client_task_creation_all_stages
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_empty
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_basic
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_pagination
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_filter_by_stage
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_pagination_defaults
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_invalid_page
ERROR tests/integration/api/test_clients_api.py::TestListClients::test_list_clients_invalid_limit
ERROR tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_success
ERROR tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_not_found
ERROR tests/integration/api/test_clients_api.py::TestGetClient::test_get_client_invalid_id
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_partial
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_stage
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_multiple_fields
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_custom_fields
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_not_found
ERROR tests/integration/api/test_clients_api.py::TestUpdateClient::test_update_client_invalid_stage
ERROR tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_success
ERROR tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_not_found
ERROR tests/integration/api/test_clients_api.py::TestDeleteClient::test_delete_client_then_get_returns_404
ERROR tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_empty
ERROR tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_with_tasks
ERROR tests/integration/api/test_clients_api.py::TestGetClientTasks::test_get_client_tasks_not_found
ERROR tests/integration/api/test_clients_api.py::TestClientAPIIntegration::test_client_full_lifecycle
ERROR tests/integration/api/test_clients_api.py::TestClientAPIIntegration::test_list_clients_excludes_deleted
ERROR tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint
ERROR tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_when_stopped
ERROR tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_job_details
ERROR tests/integration/api/test_scheduler_api.py::TestSchedulerAPI::test_scheduler_health_endpoint_response_format
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c01_create_client_minimal
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c02_create_client_with_notes
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c03_create_client_all_stages
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c04_create_client_all_property_types
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c05_create_client_with_custom_fields
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientCreate::test_c06_create_multiple_clients_bulk
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c07_get_client_by_id
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c08_get_nonexistent_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c09_list_all_clients
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c10_list_clients_pagination
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientRead::test_c11_list_clients_filter_by_stage
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c12_update_client_name
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c13_update_client_email
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c14_update_client_stage
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c15_update_client_multiple_fields
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c16_update_client_all_fields
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientUpdate::test_c17_update_nonexistent_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c18_delete_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c19_delete_multiple_clients
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientDelete::test_c20_delete_nonexistent_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c21_client_lifecycle
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c22_client_with_custom_fields_update
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c23_list_clients_excludes_deleted
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c24_client_filter_by_stage_multiple
ERROR tests/integration/workflows/test_all_tables_crud.py::TestClientComplex::test_c25_client_pagination_large_dataset
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t01_create_task_basic
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t02_create_task_with_notes
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t03_create_task_all_followup_types
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t04_create_task_all_priorities
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t05_create_followup_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t06_create_multiple_tasks_same_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskCreate::test_t07_create_tasks_different_clients
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t08_get_task_by_id
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t09_get_nonexistent_task
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t10_list_all_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t11_list_tasks_filter_by_status
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t12_list_tasks_filter_by_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t13_list_tasks_pagination
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskRead::test_t14_get_due_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t15_update_task_status
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t16_update_task_all_statuses
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t17_update_task_priority
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t18_update_task_notes
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t19_update_task_scheduled_for
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t20_reschedule_task
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t21_update_task_multiple_fields
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskUpdate::test_t22_update_nonexistent_task
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t23_task_lifecycle
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t24_create_followup_tasks_for_multiple_clients
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t25_tasks_with_different_schedules
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t26_task_status_progression
ERROR tests/integration/workflows/test_all_tables_crud.py::TestTaskComplex::test_t27_list_tasks_multiple_filters
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e01_log_email_basic
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e02_log_email_with_details
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e03_log_multiple_emails_same_task
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogCreate::test_e04_log_emails_different_clients
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e05_get_email_by_id
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e06_get_nonexistent_email
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e07_list_all_emails
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e08_list_emails_filter_by_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e09_list_emails_filter_by_status
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogRead::test_e10_list_emails_pagination
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e11_update_email_status
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e12_update_email_status_with_message_id
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e13_update_email_status_with_error
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e14_update_email_all_statuses
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogUpdate::test_e15_update_nonexistent_email
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e16_email_lifecycle
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e17_multiple_emails_same_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEmailLogComplex::test_e18_emails_with_different_statuses
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r01_client_with_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r02_task_with_email_log
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r03_client_tasks_emails_full_chain
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r04_delete_client_keeps_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r05_get_client_tasks_via_crm
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r06_update_task_complete_with_email
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r07_list_emails_for_client
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r08_multiple_tasks_multiple_emails
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r09_task_email_status_coordination
ERROR tests/integration/workflows/test_all_tables_crud.py::TestCrossTableRelationships::test_r10_client_stage_change_affects_tasks
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a01_bulk_create_all_tables
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a02_concurrent_updates
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a03_data_integrity_foreign_keys
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a04_pagination_consistency
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a05_filter_combinations
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a06_timestamp_validation
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a07_data_persistence
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a08_cascade_operations
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a09_search_and_filter_complex
ERROR tests/integration/workflows/test_all_tables_crud.py::TestAdvancedScenarios::test_a10_volume_stress_test
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e20_empty_results
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e21_max_pagination
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e22_update_no_changes
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e23_date_edge_cases
ERROR tests/integration/workflows/test_all_tables_crud.py::TestEdgeCases::test_e24_string_field_lengths
ERROR tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f01_comprehensive_workflow
ERROR tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f02_data_isolation
ERROR tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f03_transaction_safety
ERROR tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f04_performance_large_queries
ERROR tests/integration/workflows/test_all_tables_crud.py::TestFinalScenarios::test_f100_complete_system_integration
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_basic
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_with_custom_fields
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_all_stages
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_client_all_property_types
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMCreate::test_create_multiple_clients_bulk
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_client_by_id
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_nonexistent_client
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_all_clients
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_clients_with_pagination
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_list_clients_filter_by_stage
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMRead::test_get_client_tasks
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_name
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_email
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_stage_progression
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_multiple_fields
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_client_all_fields
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_nonexistent_client
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMUpdate::test_update_with_empty_data
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_client_soft_delete
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_multiple_clients
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMDelete::test_delete_nonexistent_client
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_full_client_lifecycle
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_client_with_multiple_task_updates
ERROR tests/integration/workflows/test_crm_service_crud.py::TestCRMComplexScenarios::test_pagination_with_deleted_clients
=========== 7 failed, 102 passed, 4 warnings, 179 errors in 32.05s ============
